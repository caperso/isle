{"version":3,"sources":["../node_modules/gearware/esm/components/image-preview/index.less","../node_modules/gearware/esm/components/context-menu/index.less","../node_modules/gearware/esm/components/levels/index.less","../node_modules/gearware/esm/components/square-button/index.less","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/gearware/esm/components/image-preview/ImagePreviewOperator.js","../node_modules/gearware/esm/components/image-preview/ImagePreview.js","../node_modules/gearware/esm/components/image-preview/index.js","../node_modules/gearware/esm/components/levels/Level.js","../node_modules/gearware/esm/components/levels/index.js","../node_modules/gearware/esm/components/levels/Levels.js","../node_modules/gearware/esm/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr2","iter","from","_createForOfIteratorHelper","o","minLen","_arrayLikeToArray","n","slice","constructor","name","test","_unsupportedIterableToArray","F","s","e","f","it","normalCompletion","didErr","step","_e2","len","props","operations","_props$toolbar","toolbar","_step","barOperations","_iterator","method","newItem","concat","console","warn","createElement","Fragment","map","item","onClick","renderBar","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","emptyImageProps","w","h","r","l","t","translate","defaultOperator","url","onClose","visible","_props$simpleMode","simpleMode","_props$getImageLoaded","getImageLoadedSize","operatorBar","fixedOnScreen","Operator","_useState2","imageLoadedState","setImageLoadedState","_useState4","imageState","setImageState","image","imageStyle","left","top","width","height","transform","imageStaticStyle","cursor","position","overflow","prevent","preventDefault","enablePassiveWheelEvent","document","removeEventListener","addEventListener","passive","handleImageLoaded","log","current","_state","node","window","innerWidth","innerHeight","wMax","hMax","wOrigin","naturalWidth","hOrigin","naturalHeight","wRatio","hRatio","size","state","sizing","reset","setControlMode","setRotatable","setDraggable","close","_useState6","controlMode","changeMode","mode","_useState8","x","y","distToImageBoundary","setDistToImageBoundary","_useState10","draggable","_useState12","rotatable","_useState14","pointA","setPointA","imageOperations","rotate","disableActions","_useState16","fullScreenFlag","setFullScreenFlag","easyCursorStyle","className","onContextMenu","stopPropagation","style","onLoad","ref","src","alt","onMouseDown","clientX","offsetLeft","clientY","offsetTop","startMove","startRotate","onMouseMove","dragging","pointB","getLine","point1","point2","Math","sqrt","pow","abs","_getBoundingClientRec","getBoundingClientRect","pointO","right","bottom","a","b","c","cosO","degree","acos","matrix","direct","rotating","onMouseUp","endRotate","onWheel","scaleDelta","deltaY","relativePoint","lastLeft","lastTop","methodName","dataset","Level","_ref","depth","route","indent","activeRoute","activeStyle","onChangeRoute","setActiveRoute","setCompiledData","currentRoute","handleClickLevel","getUpdateLevels","levels","changeLevelsExtended","looper","routes","routeIndex","isLastRoute","matchedIndex","isTheRouteEnd","j","ele","extended","nextLooper","deep","split","staticUrl","open","action","fontSize","actualFontSize","paddingLeft","activeColor","finalStyle","color","description","deepItem","index","_ref$data","data","_ref$style","_ref$indent","_ref$className","_ref$singleStyle","singleStyle","_ref$singleActiveStyl","singleActiveStyle","_ref$defaultExpanded","defaultExpanded","_ref$onChangeRoute","compiledData","recursiveAssign","match","Error","assign"],"mappings":"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","file":"static/js/0.5e00c0af.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/index.7b282453.less\";","module.exports = __webpack_public_path__ + \"static/media/index.82c74995.less\";","module.exports = __webpack_public_path__ + \"static/media/index.c40a1682.less\";","module.exports = __webpack_public_path__ + \"static/media/index.432c42c9.less\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport React from 'react';\nimport './index.less';\n\nvar ImagePreviewOperator = function ImagePreviewOperator(props) {\n  var operations = props.operations,\n      _props$toolbar = props.toolbar,\n      toolbar = _props$toolbar === void 0 ? null : _props$toolbar;\n\n  var renderBar = function renderBar(toolbar) {\n    if (!toolbar) {\n      return null;\n    }\n\n    if (toolbar instanceof Array) {\n      var barOperations = [];\n\n      var _iterator = _createForOfIteratorHelper(toolbar),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var name = _step.value;\n          var method = operations[name];\n\n          if (method) {\n            var newItem = {\n              name: name,\n              method: method\n            };\n            barOperations = [].concat(_toConsumableArray(barOperations), [newItem]);\n          } else {\n            console.warn(\"can't find method which refers \".concat(name));\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var menu =\n      /*#__PURE__*/\n      React.createElement(React.Fragment, null, barOperations.map(function (item) {\n        return (\n          /*#__PURE__*/\n          React.createElement(\"i\", {\n            key: item.name,\n            onClick: item.method\n          }, item.name)\n        );\n      }));\n      return menu;\n    }\n\n    return toolbar;\n  };\n\n  return renderBar(toolbar);\n};\n\nexport default ImagePreviewOperator;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport ImagePreviewOperator from './ImagePreviewOperator';\nimport './index.less';\n/* Component */\n\nvar emptyImageProps = {\n  w: 0,\n  h: 0,\n  r: 0,\n  l: 0,\n  t: 0,\n  translate: '-50%'\n};\nvar defaultOperator = ['zoom-in', 'zoom-out', 'free-rotate', 'free-drag', 'reset'];\n\nfunction ImagePreview(props) {\n  var url = props.url,\n      onClose = props.onClose,\n      visible = props.visible,\n      _props$simpleMode = props.simpleMode,\n      simpleMode = _props$simpleMode === void 0 ? false : _props$simpleMode,\n      _props$getImageLoaded = props.getImageLoadedSize,\n      getImageLoadedSize = _props$getImageLoaded === void 0 ? undefined : _props$getImageLoaded;\n  var operatorBar = simpleMode ? null : props.operatorBar === 'default' ? defaultOperator : props.operatorBar;\n  var fixedOnScreen = simpleMode ? true : props.fixedOnScreen !== undefined ? props.fixedOnScreen : true;\n  var Operator = ImagePreviewOperator;\n\n  var _useState = useState(emptyImageProps),\n      _useState2 = _slicedToArray(_useState, 2),\n      imageLoadedState = _useState2[0],\n      setImageLoadedState = _useState2[1];\n\n  var _useState3 = useState(emptyImageProps),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imageState = _useState4[0],\n      setImageState = _useState4[1];\n\n  var image = useRef(null);\n  var imageStyle = {\n    left: \"\".concat(imageState.l, \"px\"),\n    top: \"\".concat(imageState.t, \"px\"),\n    width: \"\".concat(imageState.w, \"px\"),\n    height: \"\".concat(imageState.h, \"px\"),\n    transform: \"translate(\".concat(imageState.translate, \", \").concat(imageState.translate, \") rotate(\").concat(imageState.r, \"deg)\")\n  };\n  var imageStaticStyle = {\n    cursor: \"move\",\n    width: \"\".concat(imageLoadedState.w, \"px\"),\n    height: \"\".concat(imageLoadedState.h, \"px\"),\n    position: 'relative',\n    overflow: 'hidden'\n  }; // 禁用document滚轮防止意外滚动\n\n  useEffect(function () {\n    var prevent = function prevent(e) {\n      return e.preventDefault();\n    };\n\n    var disablePassiveWheelEvent = function disablePassiveWheelEvent() {\n      return document.addEventListener('wheel', prevent, {\n        passive: false\n      });\n    };\n\n    var enablePassiveWheelEvent = function enablePassiveWheelEvent() {\n      return document.removeEventListener('wheel', prevent);\n    };\n\n    if (!simpleMode && visible && fixedOnScreen) {\n      disablePassiveWheelEvent();\n    } else {\n      enablePassiveWheelEvent();\n    }\n\n    return enablePassiveWheelEvent;\n  }, [visible, fixedOnScreen, simpleMode]);\n  /**\r\n   * @param {HTMLImageElement} node\r\n   * @returns\r\n   */\n\n  var sizing = function sizing(node) {\n    var l = fixedOnScreen ? window.innerWidth / 2 : 0; // 非固定时初始为0\n\n    var t = fixedOnScreen ? window.innerHeight / 2 : 0; // 非固定时初始为0\n\n    var wMax = window.innerWidth * 0.9;\n    var hMax = window.innerHeight * 0.9 - 100; // 100为底部功能栏高度保留\n\n    var wOrigin = node.naturalWidth; // 初始的图片宽\n\n    var hOrigin = node.naturalHeight; // 初始的图片高度\n\n    var wRatio = wOrigin / wMax;\n    var hRatio = hOrigin / hMax;\n    var size = wRatio < 1 && hRatio < 1 ? {\n      w: wOrigin,\n      h: hOrigin\n    } : wRatio > hRatio ? {\n      w: wMax,\n      h: hOrigin / wRatio\n    } : {\n      w: wOrigin / hRatio,\n      h: hMax\n    };\n    var translate = fixedOnScreen ? '-50%' : '0';\n    var changedState = {\n      t: t,\n      l: l,\n      w: size.w,\n      h: size.h,\n      translate: translate\n    };\n\n    var state = _objectSpread({}, imageState, {}, changedState);\n\n    setImageLoadedState(state);\n    setImageState(state);\n    return state;\n  };\n  /* 初始化容器大小 */\n\n\n  var handleImageLoaded = function handleImageLoaded() {\n    console.log('%c image loaded', 'color:red');\n\n    if (image.current) {\n      var _state = sizing(image.current);\n\n      if (getImageLoadedSize) {\n        getImageLoadedSize(_state);\n      }\n    }\n  };\n  /* 放大 */\n\n\n  var zoomIn = function zoomIn() {\n    setImageState(function (state) {\n      return _objectSpread({}, state, {\n        w: imageState.w * 1.05,\n        h: imageState.h * 1.05\n      });\n    });\n  };\n  /* 缩小 */\n\n\n  var zoomOut = function zoomOut() {\n    setImageState(function (state) {\n      return _objectSpread({}, state, {\n        w: imageState.w * 0.95,\n        h: imageState.h * 0.95\n      });\n    });\n  };\n  /* 旋转 */\n\n\n  var rotate = function rotate() {\n    setImageState(function (s) {\n      return _objectSpread({}, s, {\n        r: s.r + 90\n      });\n    });\n  };\n  /* 重置 */\n\n\n  var reset = function reset() {\n    setControlMode('free-drag');\n    setRotatable(false);\n    setDraggable(false);\n    setImageState(imageLoadedState);\n  };\n  /* 关闭预览 */\n\n\n  var close = function close() {\n    reset();\n\n    if (onClose) {\n      onClose();\n    }\n  };\n  /* 特殊行为 */\n\n  /* 滚轮缩放 */\n\n\n  var toScale = function toScale(e) {\n    var scaleDelta = e.deltaY < 0 ? +0.05 : -0.05; // 捕获鼠标在图片位置\n\n    var relativePoint = {\n      x: e.clientX - imageState.l,\n      y: e.clientY - imageState.t\n    }; // 缩放宽高\n\n    var w = imageState.w * (1 + scaleDelta);\n    var h = imageState.h * (1 + scaleDelta); // 原有的偏移量\n\n    var lastLeft = imageState.l;\n    var lastTop = imageState.t; // 保持缩放后坐标点与鼠标坐标点重合\n\n    var l = lastLeft - scaleDelta * relativePoint.x;\n    var t = lastTop - scaleDelta * relativePoint.y;\n    setImageState(function (s) {\n      var updateState = _objectSpread({}, s, {\n        w: w,\n        h: h,\n        l: l,\n        t: t\n      });\n\n      return updateState;\n    });\n  };\n\n  var _useState5 = useState('free-drag'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      controlMode = _useState6[0],\n      setControlMode = _useState6[1];\n\n  var changeMode = function changeMode(mode) {\n    return setControlMode(mode);\n  };\n  /* 拖拽 */\n\n\n  var _useState7 = useState({\n    x: 0,\n    y: 0\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      distToImageBoundary = _useState8[0],\n      setDistToImageBoundary = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      draggable = _useState10[0],\n      setDraggable = _useState10[1]; // 拖拽开始\n\n\n  var startMove = function startMove(e) {\n    e.preventDefault();\n    setDraggable(true);\n    setDistToImageBoundary({\n      x: e.clientX - image.current.offsetLeft,\n      y: e.clientY - image.current.offsetTop\n    });\n  }; // 拖拽移动\n\n\n  var dragging = function dragging(e) {\n    if (!draggable) {\n      return;\n    }\n\n    var l = e.clientX - distToImageBoundary.x;\n    var t = e.clientY - distToImageBoundary.y;\n    setImageState(function (s) {\n      return _objectSpread({}, s, {\n        l: l,\n        t: t\n      });\n    });\n  }; // 拖拽结束\n\n\n  var endMove = function endMove() {\n    setDraggable(false);\n  };\n  /* 自由旋转 */\n\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      rotatable = _useState12[0],\n      setRotatable = _useState12[1];\n\n  var _useState13 = useState({\n    x: 0,\n    y: 0\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      pointA = _useState14[0],\n      setPointA = _useState14[1];\n\n  var startRotate = function startRotate(e) {\n    e.preventDefault();\n    setPointA({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setRotatable(true);\n  };\n\n  var rotating = function rotating(e) {\n    if (!rotatable) {\n      return;\n    }\n\n    var pointB = {\n      x: e.clientX,\n      y: e.clientY\n    };\n\n    var getLine = function getLine(point1, point2) {\n      return Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\n    };\n\n    var _getBoundingClientRec = image.current.getBoundingClientRect(),\n        left = _getBoundingClientRec.left,\n        right = _getBoundingClientRec.right,\n        top = _getBoundingClientRec.top,\n        bottom = _getBoundingClientRec.bottom;\n\n    var pointO = {\n      x: (left + right) / 2,\n      y: (top + bottom) / 2\n    };\n    var a = getLine(pointB, pointA);\n    var b = getLine(pointB, pointO);\n    var c = getLine(pointA, pointO);\n    var cosO = (b * b + c * c - a * a) / (2 * b * c);\n    var degree = Math.acos(cosO) * 180 / 3.1415; // 求向量积\n\n    var matrix = [[pointA.x - pointO.x, pointB.x - pointO.x], [pointA.y - pointO.y, pointB.y - pointO.y]];\n    var direct = matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0] >= 0 ? +1 : -1;\n    setImageState(function (s) {\n      return _objectSpread({}, s, {\n        r: s.r + direct * degree\n      });\n    });\n    setPointA(pointB);\n  };\n\n  var endRotate = function endRotate(e) {\n    setPointA({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setRotatable(false);\n  };\n\n  var handleMouseDown = function handleMouseDown(e) {\n    controlMode === 'free-drag' ? startMove(e) : startRotate(e);\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    controlMode === 'free-drag' ? dragging(e) : rotating(e);\n  };\n\n  var handleMouseUp = function handleMouseUp(e) {\n    controlMode === 'free-drag' ? endMove() : endRotate(e);\n  };\n  /* 图片操作 */\n\n\n  var imageOperations = {\n    'zoom-in': zoomIn,\n    'zoom-out': zoomOut,\n    rotate: rotate,\n    'free-drag': function freeDrag() {\n      return changeMode('free-drag');\n    },\n    'free-rotate': function freeRotate() {\n      return changeMode('free-rotate');\n    },\n    reset: reset\n  };\n  /* 右键菜单: 终止当前进行的行为 */\n\n  var disableActions = function disableActions() {\n    setControlMode('free-drag');\n    setDraggable(false);\n    setRotatable(false);\n  };\n  /* 渲染 */\n\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      fullScreenFlag = _useState16[0],\n      setFullScreenFlag = _useState16[1];\n\n  var easyCursorStyle = {\n    cursor: fullScreenFlag ? 'zoom-out' : 'zoom-in'\n  };\n\n  var toggleFullScreen = function toggleFullScreen(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var l = window.innerWidth / 2; // 非固定时初始为0\n\n    var t = window.innerHeight / 2; // 非固定时初始为0\n\n    var wMax = window.innerWidth * 0.9 - 48; // 安全边界\n\n    var hMax = window.innerHeight * 0.9 - 48;\n    var wRatio = imageLoadedState.w / wMax;\n    var hRatio = imageLoadedState.h / hMax;\n    var size = wRatio > hRatio ? {\n      w: wMax,\n      h: imageLoadedState.h / wRatio\n    } : {\n      w: imageLoadedState.w / hRatio,\n      h: hMax\n    };\n    var translate = fixedOnScreen ? '-50%' : '0';\n    setImageState(function (s) {\n      return fullScreenFlag ? imageLoadedState : _objectSpread({}, s, {\n        l: l,\n        t: t,\n        w: size.w,\n        h: size.h,\n        translate: translate\n      });\n    });\n    setFullScreenFlag(function (s) {\n      return !s;\n    });\n  };\n\n  if (!visible) {\n    return (\n      /*#__PURE__*/\n      React.createElement(React.Fragment, null)\n    );\n  }\n\n  if (simpleMode) {\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"g-image-preview-wrapper g-fixed\",\n        onClick: close\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"g-image-preview-icon-close\",\n        onClick: close\n      }, \"X\"),\n      /*#__PURE__*/\n      React.createElement(\"img\", {\n        className: \"g-image-preview-image\",\n        onContextMenu: disableActions,\n        onClick: toggleFullScreen,\n        style: _objectSpread({}, imageStyle, {}, easyCursorStyle),\n        onLoad: handleImageLoaded,\n        ref: image,\n        src: url,\n        alt: \"\\u56FE\\u7247\"\n      }))\n    );\n  }\n\n  var interceptOperatorClick = function interceptOperatorClick(e) {\n    e.stopPropagation();\n\n    if (e.target.className === 'g-image-preview-action-toolbar') {\n      return;\n    }\n\n    var methodName = e.target.dataset['gearImageMethod'];\n\n    if (!methodName) {\n      return console.warn(\"Method name on attribute 'data-gear-image-method' is required\");\n    }\n\n    var method = imageOperations[methodName];\n\n    if (!method) {\n      return console.warn(\"can't find method which refers \".concat(methodName));\n    }\n\n    return method();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"g-image-preview-wrapper \".concat(fixedOnScreen ? 'g-fixed' : ''),\n      style: fixedOnScreen ? {} : imageStaticStyle,\n      onClick: fixedOnScreen ? close : void 0\n    }, fixedOnScreen &&\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"g-image-preview-icon-close\",\n      onClick: close\n    }, \"X\"),\n    /*#__PURE__*/\n    React.createElement(\"img\", {\n      className: \"g-image-preview-image\",\n      onMouseDown: handleMouseDown,\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp,\n      onContextMenu: disableActions,\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      style: imageStyle,\n      onLoad: handleImageLoaded,\n      ref: image,\n      src: url,\n      alt: \"\\u56FE\\u7247\",\n      onWheel: toScale\n    }),\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"g-image-preview-action-toolbar\",\n      onClick: interceptOperatorClick\n    },\n    /*#__PURE__*/\n    React.createElement(Operator, {\n      toolbar: operatorBar || null,\n      operations: imageOperations\n    })))\n  );\n}\n\nexport default ImagePreview;","import ImagePreview from './ImagePreview';\nimport './index.less';\nexport default ImagePreview;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React from 'react';\nexport var Level = function Level(_ref) {\n  var item = _ref.item,\n      depth = _ref.depth,\n      route = _ref.route,\n      style = _ref.style,\n      indent = _ref.indent,\n      activeRoute = _ref.activeRoute,\n      activeStyle = _ref.activeStyle,\n      onChangeRoute = _ref.onChangeRoute,\n      setActiveRoute = _ref.setActiveRoute,\n      setCompiledData = _ref.setCompiledData;\n  var currentRoute = route ? \"\".concat(route, \"/\").concat(item.route) : \"\".concat(item.route);\n\n  var handleClickLevel = function handleClickLevel(item, route) {\n    /**\n     * change Level extended state\n     * @param {RenderLevel[]} looper\n     * @param {string[]} routes\n     * @param {number} routeIndex\n     * @returns\n     */\n    function changeLevelsExtended(looper, routes, routeIndex, isLastRoute) {\n      var isTheRouteEnd = routeIndex + 1 >= routes.length;\n      var matchedIndex;\n\n      for (var j = 0; j < looper.length; j++) {\n        var ele = looper[j];\n\n        if (ele.route === routes[routeIndex]) {\n          ele.extended = isTheRouteEnd ? !ele.extended : true; // if is the loop's end, re-click will fold it\n\n          matchedIndex = j;\n        } else {\n          ele.extended = false;\n        }\n      }\n\n      if (matchedIndex === undefined) {\n        return console.warn(\"no matched index!\");\n      }\n\n      if (isTheRouteEnd) {\n        return;\n      }\n\n      var nextLooper = looper[matchedIndex].deep;\n\n      if (nextLooper === undefined) {\n        return console.warn(\"levels: loop chain broken!\");\n      }\n\n      changeLevelsExtended(nextLooper, routes, routeIndex + 1, isLastRoute);\n    }\n\n    function getUpdateLevels(levels) {\n      var routes = route.split('/');\n      var isLastRoute = route === activeRoute;\n      changeLevelsExtended(levels, routes, 0, isLastRoute);\n      return levels;\n    }\n\n    item.extended !== null && setCompiledData(function (s) {\n      return getUpdateLevels(_toConsumableArray(s));\n    });\n    item.staticUrl && window.open(item.staticUrl);\n    item.action && item.action(route, route === activeRoute);\n    setActiveRoute(route);\n    onChangeRoute && onChangeRoute(route);\n    console.log('%croute:', 'color:#0fe;', route);\n  };\n\n  var fontSize = typeof style.fontSize === 'number' ? style.fontSize : 45;\n  var actualFontSize = fontSize - 5 * depth > 24 ? fontSize - 5 * depth : 24;\n  var paddingLeft = \"\".concat(indent * depth, \"px\");\n  var activeColor = activeStyle['color'] || '#0fe';\n\n  var finalStyle = _objectSpread({}, style, {\n    paddingLeft: paddingLeft,\n    fontSize: actualFontSize,\n    color: \"\".concat(item.staticUrl ? '' : activeRoute === currentRoute ? activeColor : '')\n  });\n\n  return (\n    /*#__PURE__*/\n\n    /*if no actual route, use name instead */\n    React.createElement(\"div\", null,\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      style: finalStyle,\n      key: item.name,\n      className: \"g-levels-one\",\n      \"data-hover\": item.description,\n      onClick: function onClick() {\n        return handleClickLevel(item, currentRoute);\n      }\n    }, item.name), item.deep && item.extended && item.deep.map(function (deepItem, index) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Level, {\n          key: index,\n          item: deepItem,\n          indent: indent,\n          depth: depth + 1,\n          route: currentRoute,\n          style: finalStyle,\n          activeStyle: activeStyle,\n          activeRoute: activeRoute,\n          onChangeRoute: onChangeRoute,\n          setActiveRoute: setActiveRoute,\n          setCompiledData: setCompiledData\n        })\n      );\n    }))\n  );\n};","import './index.less';\nimport Levels from './Levels';\nexport default Levels;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport './index.less';\nimport { Level } from './Level';\n\nvar Levels = function Levels(_ref) {\n  var _ref$data = _ref.data,\n      data = _ref$data === void 0 ? [] : _ref$data,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$indent = _ref.indent,\n      indent = _ref$indent === void 0 ? 20 : _ref$indent,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$singleStyle = _ref.singleStyle,\n      singleStyle = _ref$singleStyle === void 0 ? {} : _ref$singleStyle,\n      _ref$singleActiveStyl = _ref.singleActiveStyle,\n      singleActiveStyle = _ref$singleActiveStyl === void 0 ? {} : _ref$singleActiveStyl,\n      _ref$defaultExpanded = _ref.defaultExpanded,\n      defaultExpanded = _ref$defaultExpanded === void 0 ? false : _ref$defaultExpanded,\n      _ref$onChangeRoute = _ref.onChangeRoute,\n      onChangeRoute = _ref$onChangeRoute === void 0 ? function () {} : _ref$onChangeRoute;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      compiledData = _useState2[0],\n      setCompiledData = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeRoute = _useState4[0],\n      setActiveRoute = _useState4[1];\n\n  useEffect(function () {\n    /**\n     * assign extend state to every level, make no side effect\n     * @param {Level[]} data\n     * @param {boolean} defaultExpanded\n     * @returns {RenderLevel[]}\n     */\n    function recursiveAssign(data, defaultExpanded) {\n      var routes = data.map(function (item) {\n        // make sure no route include '/' so route wont failed\n        if (item.route && item.route.match('/')) {\n          throw new Error('Please make sure no \"/\" in level\\'s route');\n        } else if (item.name.match('/')) {\n          throw new Error('Please make sure no \"/\" in level\\'s name');\n        }\n\n        item.route = item.route || item.name;\n        return item.route;\n      }); // make sure no route duplicate at this level\n\n      routes.map(function (route, i) {\n        for (var j = i + 1; j < routes.length; j++) {\n          if (!route) {\n            throw new Error('Please check no empty name');\n          }\n\n          if (route === routes[j]) {\n            throw new Error('Please make every route(or name) unique');\n          }\n        }\n      });\n      return data.map(function (item) {\n        var result;\n        var deep;\n\n        if (item.deep) {\n          deep = recursiveAssign(item.deep, defaultExpanded);\n        }\n\n        if (defaultExpanded && item.deep) {\n          result = Object.assign(item, {\n            extended: true,\n            deep: deep\n          });\n        } else if (!defaultExpanded && item.deep) {\n          result = Object.assign(item, {\n            extended: false,\n            deep: deep\n          });\n        } else {\n          result = Object.assign(item, {\n            extended: null,\n            deep: deep\n          });\n        }\n\n        return result;\n      });\n    }\n\n    var compiledData = recursiveAssign(data, defaultExpanded);\n    setCompiledData(compiledData);\n  }, [data]);\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"\".concat(className, \" g-levels-wrapper\"),\n      style: style\n    }, compiledData.map(function (item, index) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Level, {\n          key: index,\n          item: item,\n          route: \"\",\n          depth: 0,\n          indent: indent,\n          style: singleStyle,\n          activeStyle: singleActiveStyle,\n          activeRoute: activeRoute,\n          onChangeRoute: onChangeRoute,\n          setActiveRoute: setActiveRoute,\n          setCompiledData: setCompiledData\n        })\n      );\n    }))\n  );\n};\n\nexport default Levels;","export { default as ContextMenu } from './components/context-menu';\nexport { default as ImagePreview } from './components/image-preview';\nexport { default as Levels } from './components/levels';\nexport { default as SquareButton } from './components/square-button';","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}"],"sourceRoot":""}